---
title: "AtCoder Beginner Contest 250 ãƒ¡ãƒ¢(A-D)"
emoji: "ğŸˆ"
type: "tech"
topics: ["atcoder"]
published: true
published_at: "2022-05-09 23:46"
---


# ä»Šå›ã®çµæœ
2AC

Cå•é¡ŒãŒã‚ã¨5åˆ†ã‚ã‚Œã°è§£ã‘ãŸã€‚
Aå•é¡Œã‚„Bå•é¡Œã¯æ±‚ã‚ã‚‹ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¹ã‚­ãƒ«ã¯å¤‰ã‚ã£ã¦ãªã„ãŒã€
ä¸ãˆã‚‰ã‚ŒãŸå•é¡Œã‹ã‚‰ã©ã®ã‚ˆã†ã«ã‚³ãƒ¼ãƒ‰ã«è½ã¨ã—è¾¼ã‚€ã‹ã‚’è€ƒãˆã•ã›ã¦ã„ã‚‹ãªãƒ¼ã€ã¨å•é¡Œæ–‡ã‚’èª­ã‚“ã§ã¦æ€ã£ãŸã€‚


# A - Adjacent Squares

## å•é¡Œ
https://atcoder.jp/contests/abc250/tasks/abc250_a

Difficulty:25


### å•é¡Œæ–‡

ç¸¦ $H$ è¡Œã€æ¨ª $W$ åˆ—ã®ãƒã‚¹ç›®ãŒã‚ã‚Šã€ã“ã®ã†ã¡ä¸Šã‹ã‚‰ $i$ å€‹ç›®ã€å·¦ã‹ã‚‰ $j$ å€‹ç›®ã®ãƒã‚¹ã‚’ $(i,j)$ ã¨å‘¼ã³ã¾ã™ã€‚
ã“ã®ã¨ãã€ãƒã‚¹ $(R,C)$ ã«è¾ºã§éš£æ¥ã™ã‚‹ãƒã‚¹ã®å€‹æ•°ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

ãŸã ã—ã€ã‚ã‚‹ 2 ã¤ã®ãƒã‚¹ $(a,b),(c,d)$ ãŒè¾ºã§éš£æ¥ã™ã‚‹ã¨ã¯ã€ $âˆ£aâˆ’câˆ£+âˆ£bâˆ’dâˆ£=1$ ($âˆ£xâˆ£$ ã‚’ $x$ ã®çµ¶å¯¾å€¤ã¨ã™ã‚‹) ã§ã‚ã‚‹ã“ã¨ã‚’è¨€ã„ã¾ã™ã€‚

### åˆ¶ç´„

- å…¥åŠ›ã¯å…¨ã¦æ•´æ•°
- $1â‰¤Râ‰¤Hâ‰¤10$
- $1â‰¤Câ‰¤Wâ‰¤10$

### å…¥åŠ›
å…¥åŠ›ã¯ä»¥ä¸‹ã®å½¢å¼ã§æ¨™æº–å…¥åŠ›ã‹ã‚‰ä¸ãˆã‚‰ã‚Œã‚‹ã€‚
```
  H W
  R C
```


### å‡ºåŠ›
ç­”ãˆã‚’æ•´æ•°ã¨ã—ã¦å‡ºåŠ›ã›ã‚ˆã€‚


## å‚åŠ ä¸­ã«è€ƒãˆãŸã“ã¨
å•é¡Œæ–‡ã®ä½†ã—æ›¸ãã«ã¡ã‚‡ã£ã¨ã³ã£ãã‚Šã—ãŸã€‚
ã“ã‚Œã£ã¦è¦ã¯$(a,b)$ ã®ä¸Šä¸‹å·¦å³ã„ãšã‚Œã‹ã®æ–¹å‘ã«å¯¾ã—ã¦ï¼‘ã¤ãšã‚‰ã—ãŸã‚‚ã®ãŒ $(c,d)$ ã«ãªã‚‹ã¨ã„ã†ã“ã¨ã®ã‚ˆã†ã ã‘ã©ã€ä½¿ã†å¿…è¦ãªã„ã‹ãªï¼Ÿ

å…¥å‡ºåŠ›ä¾‹ã«ã‚ã‚‹å›³ã‚’è¦‹ã‚Œã°åˆ†ã‹ã‚‹ã‚“ã ã‘ã©ã€ä¸Šä¸‹å·¦å³ãã‚Œãã‚Œã«ï¼‘ã¤ãšã‚‰ã—ã¦ $H Ã— W$ ã®æ å†…ã«åã¾ã£ã¦ã„ã‚Œã°ã‚«ã‚¦ãƒ³ãƒˆã™ã‚Œã°ã„ã„ã‚ˆã­ã€‚
ã¤ã¾ã‚Šã€ $(R,C)$ ãŒ $H Ã— W$ ã®æ ã«æ¥ã—ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’è¦‹ã‚Œã°ã„ã„ã€‚
ã¨ã„ã†ã‚ã‘ã§ã€åˆ¤å®šã®ã¨ã“ã‚ã¯ä»¥ä¸‹ã®4ã¤ã®åˆ†å²ã‚’ä¸¦ã¹ã¦è§£ã„ãŸã€‚

```cpp
    int ans = 0;

    if(R > 1) ++ans;
    if(R < H) ++ans;
    if(C > 1) ++ans;
    if(C < W) ++ans;

```

## è€ƒå¯Ÿãƒ»æ„Ÿæƒ³
å…¬å¼ã¨åŒã˜è§£ãæ–¹ã§ã—ãŸã­ã€‚


# B - Enlarged Checker Board

## å•é¡Œ
https://atcoder.jp/contests/abc250/tasks/abc250_b

Difficulty:109


### å•é¡Œæ–‡
ç¸¦ $A$ è¡Œã€æ¨ª $B$ åˆ—ã®ãƒã‚¹ã‹ã‚‰ãªã‚‹ã‚¿ã‚¤ãƒ«ã‚’ç¸¦ $N$ è¡Œã€æ¨ª $N$ åˆ—ã«ä¸¦ã¹ã¦ã§ããŸã€ç¸¦ $(AÃ—N)$ è¡Œã€æ¨ª $(BÃ—N)$ åˆ—ã®ãƒã‚¹ç›® $X$ ãŒã‚ã‚Šã¾ã™ã€‚
$1â‰¤i,jâ‰¤N$ ã«ã¤ã„ã¦ã€ä¸Šã‹ã‚‰ $i$ è¡Œç›®ã€å·¦ã‹ã‚‰ $j$ åˆ—ç›®ã®ã‚¿ã‚¤ãƒ«ã‚’ã‚¿ã‚¤ãƒ« $(i,j)$ ã¨ã—ã¾ã™ã€‚

$X$ ã®å„ãƒã‚¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å¡—ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

- å„ã‚¿ã‚¤ãƒ«ã¯ç™½ã„ã‚¿ã‚¤ãƒ«ã¾ãŸã¯é»’ã„ã‚¿ã‚¤ãƒ«ã§ã‚ã‚‹ã€‚
- ç™½ã„ã‚¿ã‚¤ãƒ«ã®ã™ã¹ã¦ã®ãƒã‚¹ã¯ç™½ã§å¡—ã‚‰ã‚Œã€é»’ã„ã‚¿ã‚¤ãƒ«ã®ã™ã¹ã¦ã®ãƒã‚¹ã¯é»’ã§å¡—ã‚‰ã‚Œã¦ã„ã‚‹ã€‚
- ã‚¿ã‚¤ãƒ« $(1,1)$ ã¯ç™½ã„ã‚¿ã‚¤ãƒ«ã§ã‚ã‚‹ã€‚
- è¾ºã§éš£æ¥ã™ã‚‹ $2$ ã¤ã®ã‚¿ã‚¤ãƒ«ã¯ç•°ãªã‚‹è‰²ã®ã‚¿ã‚¤ãƒ«ã§ã‚ã‚‹ã€‚ãŸã ã—ã€ã‚¿ã‚¤ãƒ« $(a,b)$ ã¨ã‚¿ã‚¤ãƒ« $(c,d)$ ãŒè¾ºã§éš£æ¥ã™ã‚‹ã¨ã¯ã€$âˆ£aâˆ’câˆ£+âˆ£bâˆ’dâˆ£=1$ ( $âˆ£xâˆ£$ ã‚’ $x$ ã®çµ¶å¯¾å€¤ã¨ã™ã‚‹)ã§ã‚ã‚‹ã“ã¨ã‚’è¨€ã†ã€‚

ãƒã‚¹ç›® $X$ ã‚’å‡ºåŠ›ã®å½¢å¼ã«å¾“ã£ã¦å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚

### åˆ¶ç´„
- $1â‰¤N,A,Bâ‰¤10$
- å…¥åŠ›ã¯å…¨ã¦æ•´æ•°

### å…¥åŠ›
å…¥åŠ›ã¯ä»¥ä¸‹ã®å½¢å¼ã§æ¨™æº–å…¥åŠ›ã‹ã‚‰ä¸ãˆã‚‰ã‚Œã‚‹ã€‚

```
N A B
```

### å‡ºåŠ›
æ¬¡ã®æ¡ä»¶ã‚’ã¿ãŸã™ $(AÃ—N)$ å€‹ã®æ–‡å­—åˆ— $S_1â€‹ ,\dots,S_{AÃ—N}$â€‹
  ã‚’æ”¹è¡ŒåŒºåˆ‡ã‚Šã§å‡ºåŠ›ã›ã‚ˆã€‚

- $S_1 ,\dots,S_{AÃ—N}$ ã¯ãã‚Œãã‚Œé•·ã• $(BÃ—N)$ ã® `.` ã¾ãŸã¯ `#` ã‹ã‚‰ãªã‚‹æ–‡å­—åˆ—ã§ã‚ã‚‹ã€‚
- å„ $i,j (1â‰¤iâ‰¤AÃ—N,1â‰¤jâ‰¤BÃ—N)$ ã«å¯¾ã—ã€ãƒã‚¹ç›® $X$ ã®ä¸Šã‹ã‚‰ $i$ è¡Œç›®ã‹ã¤å·¦ã‹ã‚‰ $j$ åˆ—ç›®ã®ãƒã‚¹ãŒç™½ã§å¡—ã‚‰ã‚Œã¦ã„ã‚‹ãªã‚‰ã° $S i$ ã® $j$ æ–‡å­—ç›®ã¯ `.`ã§ã‚ã‚Šã€é»’ãå¡—ã‚‰ã‚Œã¦ã„ã‚‹ãªã‚‰ã° `#` ã§ã‚ã‚‹ã€‚

### å…¥å‡ºåŠ›ä¾‹

#### å…¥åŠ›ä¾‹ï¼‘
```
4 3 2
```
#### å‡ºåŠ›ä¾‹ï¼‘
```
..##..##
..##..##
..##..##
##..##..
##..##..
##..##..
..##..##
..##..##
..##..##
##..##..
##..##..
##..##..
```

### å‚åŠ ä¸­ã«è€ƒãˆãŸã“ã¨
Aå•é¡Œã«å‡ºã¦ããŸéš£æ¥ã®å®šç¾©ãŒã¾ãŸå‡ºã¦ãã¦ã€1ã¤ã®ã‚³ãƒ³ãƒ†ã‚¹ãƒˆå†…ã§ãã†ã„ã†ã®ã¯ãªã‹ã£ãŸæ°—ãŒã™ã‚‹ã€‚

å•é¡Œæ–‡ã®3ã¤ç›®ã®ç®‡æ¡æ›¸ãã‹ã‚‰ã€ã‚¿ã‚¤ãƒ« $(1,1)$ ã®ç™½ã‚’åˆæœŸå€¤ã«ã—ã¦å³ã¨ä¸‹ã«ä¼¸ã°ã—ã¦ã„ãã®ã‹ã¨æœ€åˆè€ƒãˆãŸãŒã€å‡ºåŠ›ä¾‹ã‚’è¦‹ã‚‹ã¨è¦å‰‡æ€§ãŒã‚ã‚‹ã®ã§ã€ãã‚“ãªè¤‡é›‘ãªã“ã¨ã¯ã™ã‚‹å¿…è¦ãŒãªã•ãã†ã€‚
é›£ã—ãè€ƒãˆã™ãã¦æ™‚é–“ã‚’ç„¡é§„ã«ã—ã¦ã—ã¾ã£ãŸã€‚

$x$ ã®å¤§ãã•ãŒ $(AÃ—N, BÃ—N)$ ã¨ã„ã†ã®ãŒå°‘ã—ã‚„ã‚„ã“ã—ã„ã€‚
ãŸã å‡ºåŠ›ä¾‹ã‚’è¦‹ã‚‹ã¨ãã®è¡Œåˆ—ã«ãªã£ã¦ã„ã‚‹ã®ã§ã€å¤–å´ã®äºŒé‡ãƒ«ãƒ¼ãƒ—ã¯ã“ã®ï¼’ã¤ã‚’çµ‚äº†æ¡ä»¶ã«ã™ã‚‹ã§ã‚ˆã•ãã†ã€‚

 $(i,j)$ ã®ä¸­èº«ã‚’ã©ã†åˆ¤å®šã™ã‚‹ã‹ãŒã“ã®å•é¡Œã®è‚ã«ãªã‚‹ã®ã‹ãªã€‚
å…¥åŠ›ä¾‹ï¼‘ã‚’è¦‹ãªãŒã‚‰ã“ã“ã‚’è€ƒãˆã‚‹ã€‚

ç¸¦ã‚’è¦‹ã‚‹ã¨ã€A=3ã€N=4ãªã®ã§è¡Œæ•°ã¯12ã€‚
3ã¤ãŠãã«`.`ã¨`#`ãŒå¤‰ã‚ã£ã¦ã„ã‚‹ã®ã§ã€Aã§ã®å‰°ä½™ã®å¶å¥‡ã§åˆ¤å®šã§ãã‚‹ã€‚
æ¨ªã«ã¤ã„ã¦ã‚‚åŒæ§˜ã®ã“ã¨ãŒã§ãã‚‹ã€‚
ã§ã€ç¸¦ã¨æ¨ªã‚’çµ„ã¿åˆã‚ã›ã‚‹ã«ã¯ã©ã†ã™ã‚‹ã‹ã ã‘ã©ã€ã“ã‚Œã¯ $i \; mod \; A$ ã®å¶å¥‡ã¨ $j \; mod \; B$ ã®å¶å¥‡ã®ï¼’ã¤ã®å¶å¥‡ã‚’è¦‹ã¦ã€0ãªã‚‰`.`ã€1ãªã‚‰`#`ã¨ã™ã‚Œã°ãƒã‚§ãƒƒã‚¯æŸ„ãŒä½œã‚ŒãŸã€‚

ãƒ«ãƒ¼ãƒ—ã¨ $(i,j)$ ã®åˆ¤å®šéƒ¨åˆ†ã®ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜

```cpp
    rep(i, A*N){
        rep(j, B*N){
            int ax = i / A % 2;
            int bx = j / B % 2;
            if(ax == 1 && bx == 0 || ax == 0 && bx == 1){
                cout << '#';
            } else {
                cout << '.';
            }
        }
        cout << endl;
    }

```

### è€ƒå¯Ÿãƒ»æ„Ÿæƒ³
å…¬å¼è§£èª¬ã«ã¯å®Ÿè£…ä¾‹ãŒï¼’ã¤ã‚ã‚‹ã‘ã©ã€å®Ÿè£…ä¾‹ï¼’ã®ã»ã†ã§è§£ã„ãŸã€‚
å…¬å¼ã®å®Ÿè£…ä¾‹ï¼’ã®ã‚ˆã†ã«äºŒé‡ãƒ«ãƒ¼ãƒ—ã®ä¸­ã®åˆ¤å®šéƒ¨åˆ†ã¯1è¡Œã§ã‚‚æ›¸ã‘ã¾ã™ã­ã€‚



# C - Adjacent Swaps

## å•é¡Œ
https://atcoder.jp/contests/abc250/tasks/abc250_c

Difficulty:517
ç°è‰²ã‚ˆã‚Šã®èŒ¶è‰²ãƒ¬ãƒ™ãƒ«å•é¡Œãªã®ã§ã“ã‚Œã¯è§£ããŸã‹ã£ãŸã€‚ã€‚


### å•é¡Œæ–‡
$N$ å€‹ã®ãƒœãƒ¼ãƒ«ãŒå·¦å³ä¸€åˆ—ã«ä¸¦ã‚“ã§ã„ã¾ã™ã€‚åˆã‚ã€å·¦ã‹ã‚‰ $i(1â‰¤iâ‰¤N)$ ç•ªç›®ã®ãƒœãƒ¼ãƒ«ã«ã¯æ•´æ•° $i$ ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚

é«˜æ©‹å›ã¯ $Q$ å›ã®æ“ä½œã‚’è¡Œã„ã¾ã—ãŸã€‚ $i(1â‰¤iâ‰¤Q)$ å›ç›®ã«è¡Œã‚ã‚ŒãŸæ“ä½œã¯æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚

- æ•´æ•° $x_i$ ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒœãƒ¼ãƒ«ã‚’ãã®å³éš£ã®ãƒœãƒ¼ãƒ«ã¨å…¥ã‚Œæ›¿ãˆã‚‹ã€‚ãŸã ã—ã€æ•´æ•° $x_i$ ãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ãƒœãƒ¼ãƒ«ãŒå…ƒã€…å³ç«¯ã«ã‚ã£ãŸå ´åˆã€ä»£ã‚ã‚Šã«å·¦éš£ã®ãƒœãƒ¼ãƒ«ã¨å…¥ã‚Œæ›¿ãˆã‚‹ã€‚

æ“ä½œå¾Œã«ãŠã„ã¦å·¦ã‹ã‚‰ $i(1â‰¤iâ‰¤N)$ ç•ªç›®ã®ãƒœãƒ¼ãƒ«ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ•´æ•°ã‚’ $a_i$  ã¨ã—ã¾ã™ã€‚ $a_1 ,\dots,a_N$ ã‚’æ±‚ã‚ã¦ãã ã•ã„ã€‚

### åˆ¶ç´„
- $2â‰¤Nâ‰¤2Ã—10^5$
- $1â‰¤Qâ‰¤2Ã—10^5$
- $1â‰¤x_i â‰¤N$
- å…¥åŠ›ã¯å…¨ã¦æ•´æ•°

### å…¥åŠ›
å…¥åŠ›ã¯ä»¥ä¸‹ã®å½¢å¼ã§æ¨™æº–å…¥åŠ›ã‹ã‚‰ä¸ãˆã‚‰ã‚Œã‚‹ã€‚



```
N Q
x 
1
.
. 
x 
Q 
```

### å‡ºåŠ›
$a_1,\dots,a_N$ ã‚’ç©ºç™½åŒºåˆ‡ã‚Šã§å‡ºåŠ›ã›ã‚ˆã€‚

### å…¥å‡ºåŠ›ä¾‹

#### å…¥åŠ›ä¾‹ï¼‘
```
5 5
1
2
3
4
5
```
#### å‡ºåŠ›ä¾‹ï¼‘
```
1 2 3 5 4
```

### å‚åŠ ä¸­ã«è€ƒãˆãŸã“ã¨

ã¾ãšã¯è¨ˆç®—é‡ã‚’è€ƒãˆã‚‹ã¨ã“ã‚ã‹ã‚‰ã€‚
é…åˆ—ã‚’ä½¿ã£ã¦å•é¡Œåˆ†ã®é€šã‚Šã«é †æ¬¡å‡¦ç†ã‚’ã™ã‚‹ã¨ã€
- é…åˆ—ã®ä¸­ã‹ã‚‰ $Xi$ ã‚’æ¢ã™ã®ã« $O(N)$
- swapã®è¨ˆç®—é‡ã¯ $O(1)$ã§ã€Qå›æ“ä½œã™ã‚‹ã®ã§ $O(Q)$ 
- ã“ã®2ã¤ã®ç©ã«ãªã‚‹ã®ã§ã€$O(NQ) \fallingdotseq 10^{10}$ 

ã§ã€è¨ˆç®—é‡ãŒè¶³ã‚Šãªã„ã€‚

æ¢ç´¢ã‚’äºŒåˆ†æ¢ç´¢ã«ã™ã‚Œã°ã€$O(QLogN)$ ã§è¨ˆç®—é‡ã¯è¶³ã‚Šãã†ã ã‘ã©ã€ã“ã®å•é¡Œã§ã¯ã‚½ãƒ¼ãƒˆãŒã§ããªã„ã®ã§ä½¿ãˆãªã„ã€‚

é…åˆ—ã¨ã¯åˆ¥ã«ã€æ•°å€¤ãŒã©ã“ã«ã‚ã‚‹ã‹ã®ãƒãƒƒã‚·ãƒ¥ã‚’æŒãŸã›ãŸã‚‰ã©ã†ã‹ï¼Ÿ
ãã†ã™ã‚Œã°æ¢ç´¢ã®éƒ¨åˆ†ãŒ $O(1)$ ã«ãªã‚‹ã®ã§è¨ˆç®—é‡ãŒè¶³ã‚Šãã†ã€‚

$Xi$ ã‚’å–å¾—ã—ãŸã‚‰ã€ãƒãƒƒã‚·ãƒ¥ã‹ã‚‰é…åˆ—ä¸Šã®ä½ç½®ã‚’å–ã£ã¦ã€ãã“ã‹ã‚‰é…åˆ—ã®å€¤ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã®ã¨ãƒãƒƒã‚·ãƒ¥ã®å€¤ã‚‚åŒæ§˜ã«å…¥ã‚Œã‹ãˆã‚‹ã€ã¨ã„ã†ã“ã¨ã‚’ã™ã‚Œã°ã†ã¾ãã„ãã¯ãšã€‚

å…¥åŠ›ä¾‹1ã‚’ä½¿ã£ã¦ã€é…åˆ—ã‚’ $a$ ã€ãƒãƒƒãƒ—ï¼ˆãƒãƒƒã‚·ãƒ¥ï¼‰ã‚’ $m$ ã¨ã™ã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªé–¢ä¿‚æ€§ãŒã§ãã‚‹ã€‚
( $i=0$ ã¯åˆæœŸé…ç½®ã€å¤ªå­—ã¯å€¤ãŒå¤‰æ›´ã•ã‚ŒãŸç®‡æ‰€)

| i | $Xi$ |  $a[0]$ | $a[1]$ | $a[2]$ | $a[3]$ | $a[4]$ |  
|-|-|-|-|-|-|-|   
|0| |1|2|3|4|5|
|1|1|**2**|**1**|3|4|5|
|2|2|**1**|**2**|3|4|5|
|3|3|1|2|**4**|**3**|5|
|4|4|1|2|**3**|**4**|5|
|5|5|1|2|3|**5**|**4**|

| i | $m[1]$ | $m[2]$ | $m[3]$ | $m[4]$ | $m[5]$ |
|-|-|-|-|-|-|
|0|0|1|2|3|4|
|1|**1**|**0**|2|3|4|
|2|**0**|**1**|2|3|4|
|3|0|1|**3**|**2**|4|
|4|0|1|**2**|**3**|4|
|5|0|1|2|**4**|**3**|

ã“ã‚Œã‚’è¦‹ãªãŒã‚‰ã€ã“ã®å‹•ãã‚’ã™ã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã€‚
å‡¦ç†ã‚’é †ç•ªã«æ›¸ãã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚

0. ã‚³ãƒãƒ³ãƒ‰ $x_i$ ã‚’å—ã‘å–ã‚‹
1. $x_i$ ã®é…åˆ—ä¸Šã®ä½ç½®ã‚’ãƒãƒƒãƒ—ã‹ã‚‰æ¢ã™ã€‚ã“ã‚Œã‚’ $mi$ ã¨ã™ã‚‹
2. $a[mi+1]$ ï¼ˆ $Xi$ ãŒé…åˆ—ã®æœ€å³ã®å ´åˆã¯ $a[mi-1]$ ï¼‰ã®å€¤ã‚’å–å¾—ã€‚ã“ã‚Œã‚’ $ai2$ ã¨ã™ã‚‹
3. ãƒãƒƒãƒ—ã‹ã‚‰ $ai2$ ã®å€¤ã®ä½ç½®ã‚’å–å¾—ã™ã‚‹ã€‚ã“ã‚Œã‚’ $mi2$ ã¨ã™ã‚‹
4. $a[mi]$ ã¨ $a[mi+1]$ ï¼ˆ $Xi$ ãŒé…åˆ—ã®æœ€å³ã®å ´åˆã¯ $a[mi-1]$ ï¼‰ã‚’swapã™ã‚‹
5. $m[x_i]$ â† $mi2$
6. $m[ai2]$ â† $mi$

æ–¹é‡ãŒæ±ºã¾ã£ã¦ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãŸãŒã€ãƒã‚°ã‹ã‚‰æŠœã‘å‡ºã›ãšã‚¿ã‚¤ãƒ ã‚¢ãƒƒãƒ—ã€‚

### è€ƒå¯Ÿãƒ»æ„Ÿæƒ³

ã‚ã¨5åˆ†ã‚ã‚Œã°è§£ã‘ã¦ãŸã€‚
ã‘ã©ã€ã“ã®æ–¹æ³•ãŒåŠ¹ç‡ãŒæ‚ªã„æ°—ãŒã™ã‚‹ã®ã§ã‚‚ã£ã¨ã„ã„è§£æ³•ãŒã‚ã‚Šãã†ã¨æ€ã£ã¦å…¬å¼è§£èª¬ã‚’è¦‹ãŸã‚‰ã€åŒã˜è§£ãæ–¹ã ã£ãŸã€‚
ãŸã å…¬å¼ã®å®Ÿè£…ä¾‹ã®ã»ã†ãŒä½¿ã£ã¦ã‚‹å¤‰æ•°ãŒ1å€‹å¤šã„ãŒã€ã“ã£ã¡ã®ã»ã†ãŒå¯èª­æ€§ã¯é«˜ãã†ã€‚
å¤‰æ•°ãŒå¤šããªã‚‹ã¨ä»£å…¥å…ˆã‚’é–“é•ãˆã‚„ã™ããªã‚‹ã®ã§ã€å®Ÿã¯é©ã—ãŸé–¢æ•°ã‚„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã‹ã¨æ€ã£ãŸãŒã€ã“ã‚Œãã‚‰ã„ã¯ã§ããªãã‚ƒã„ã‹ã‚“ã£ã¦ã“ã¨ã§ã™ã­ã€‚
ã‚ã¨å€¤ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ãƒãƒƒãƒ—ã˜ã‚ƒãªãã¦é…åˆ—ã§ã‚‚ã‚ˆã‹ã£ãŸã€‚


# D - 250-like Number

## å•é¡Œ
https://atcoder.jp/contests/abc250/tasks/abc250_d

Difficulty:797


### å•é¡Œæ–‡
ä»¥ä¸‹ã®æ¡ä»¶ã‚’æº€ãŸã™æ•´æ•° $k$ ã‚’ã€Œ $250$ ã«ä¼¼ãŸæ•°ã€ã¨å‘¼ã³ã¾ã™ã€‚

- $k$ ãŒç´ æ•° $p<q$ ã‚’ä½¿ã£ã¦ $k=pÃ—q^3$ ã¨è¡¨ã•ã‚Œã‚‹ã€‚

$N$ ä»¥ä¸‹ã®ã€Œ $250$ ã«ä¼¼ãŸæ•°ã€ã¯å…¨éƒ¨ã§ã„ãã¤ã‚ã‚Šã¾ã™ã‹ï¼Ÿ


### åˆ¶ç´„
- $N$ ã¯ $1$ ä»¥ä¸Š $10^{18}$ ä»¥ä¸‹ã®æ•´æ•°

### å…¥åŠ›
å…¥åŠ›ã¯ä»¥ä¸‹ã®å½¢å¼ã§æ¨™æº–å…¥åŠ›ã‹ã‚‰ä¸ãˆã‚‰ã‚Œã‚‹ã€‚

```
N
```

### å‡ºåŠ›
ç­”ãˆã‚’æ•´æ•°ã¨ã—ã¦å‡ºåŠ›ã›ã‚ˆã€‚

### å…¥å‡ºåŠ›ä¾‹

#### å…¥åŠ›ä¾‹ 1
```
250
```
#### å‡ºåŠ›ä¾‹ 1
```
2
```

#### å…¥åŠ›ä¾‹ 2
```
1
```
#### å‡ºåŠ›ä¾‹ 2
```
0
```

#### å…¥åŠ›ä¾‹ 3
```
123456789012345
```
#### å‡ºåŠ›ä¾‹ 3
```
226863
```

### å‚åŠ ä¸­ã«è€ƒãˆãŸã“ã¨

å•é¡Œã¯èª­ã‚“ã ã‘ã©ç´ æ•°åˆ¤å®šã«ä½¿ã†éƒ¨å“ã‚’æŒã£ã¦ãªã‹ã£ãŸã—ã€è§£æ³•ã‚’æ¢ã™ã®ã«ã‚‚æ™‚é–“ãŒã‹ã‹ã‚Šãã†ã ã£ãŸã®ã§è§£ãã®ã¯ã‚ãã‚‰ã‚ãŸã€‚ã€‚

### è€ƒå¯Ÿ

è§£èª¬ã‚’è¦‹ã‚‹å‰ã«ã‚‚ã†ä¸€åº¦è€ƒãˆç›´ã—ãŸã‘ã©ACã•ã›ã‚‹ã¾ã§ã¯çµæ§‹é›£ã—ã‹ã£ãŸã€‚

ä¸ãˆã‚‰ã‚ŒãŸæ¡ä»¶ã‹ã‚‰ã€ $q$ ã®æœ€å¤§å€¤ã¯ $\sqrt[3]10^{18} = 10^6$ ä»¥ä¸‹ã¨ãªã‚‹ã€‚
$1$ ã‹ã‚‰ $10^6$ ã¾ã§ã®ä¸­ã«ç´ æ•°ãŒã„ãã¤ã‚ã‚‹ã®ã‹æ•°ãˆã¦ã¿ã‚‹ã€‚
æ•´æ•°ã«é–¢ã™ã‚‹éƒ¨å“ã‚’ã¾ã æŒã£ã¦ãªã„ã®ã§ã€ç´ æ•°ã‚’åˆ—æŒ™ã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆã‚¨ãƒ©ã‚¹ãƒˆãƒ†ãƒã‚¹ã®ç¯©ï¼‰ã‚’ä½œã£ã¦ã¿ã¦ç¢ºèªã™ã‚‹ã¨ $78498$ å€‹ã‚ã£ãŸã€‚
ãªãŠã€ $10^6$ ã¾ã§ã®ç´ æ•°åˆ—æŒ™ã«å¿…è¦ãªæ™‚é–“ã¯timeã‚³ãƒãƒ³ãƒ‰ã§ç¢ºèªã™ã‚‹ã¨0.3ç§’ã ã£ãŸã®ã§å®Ÿè¡Œæ™‚é–“ã¯å•é¡Œãªã•ãã†ã€‚

ã“ã®æ•°ã«å¯¾ã—ã¦å…¨æ¢ç´¢ã‚’ã™ã‚‹ã¨ $O(N^2)$ ã§TLEã—ãã†ãªã®ã ãŒã€ä¾‹ãˆã°æ¡ä»¶ã‚’æº€ãŸã™ã‚‚ã®ã‚’å€¤ã®å°ã•ã„ã‚‚ã®ã‹ã‚‰ãƒã‚§ãƒƒã‚¯ã—ã¦ã„ãã¨ã€æ¡ä»¶ã‚’æº€ãŸã•ãªããªã£ãŸæ™‚ç‚¹ã§ãƒ«ãƒ¼ãƒ—ã‹ã‚‰æŠœã‘ã¦ã‚ˆãã€ã¾ãŸå›ºå®šã™ã‚‹æ–¹ã®å€¤ãŒå¤§ãããªã‚Œã°æ¡ä»¶ã‚’æº€ãŸã™ã‚‚ã®ãŒå°‘ãªããªã‚‹ã®ã§å…¨æ¢ç´¢ã§ã‚‚ãªã‚“ã¨ã‹åã¾ã‚‹ã€‚
ã©ã†ã—ã¦ã‚‚ä¸å®‰ãªã‚‰äºŒåˆ†æ¢ç´¢ã§å¢ƒç•Œã‚’æ¢ã—ã¦ã‚‚è‰¯ã„ã€‚

æœ€å¤§ã®å€¤( $n=10^{18}$ )ã®å ´åˆã®çµ„ã¿åˆã‚ã›ã®æ•°ã¯ $11871859$ å€‹ã ã£ãŸã®ã§äºŒåˆ†æ¢ç´¢ã¯ä½¿ã‚ãªãã¦ã‚‚è¨ˆç®—é‡ã¯è¶³ã‚Šã‚‹ã€‚

C++ã§è§£ãã«ã‚ãŸã£ã¦ã¯ã‚‚ã†ï¼‘ã¤è€ƒæ…®ãŒå¿…è¦ãªç‚¹ãŒã‚ã£ã¦ã€
$N$ ã®åˆ¤å®šã§ $p Ã— q^3 <= n$ ã®åˆ¤å®šã‚’ãã®ã¾ã¾ä½¿ã†ã¨ã€å·¦è¾ºãŒæœ€å¤§ã§ $10^6$ ã‚’4å›ã‹ã‘ã¦ $10^{24}$ ã§long longå‹ã§ã¯è¶³ã‚Šãªããªã£ã¦ã—ã¾ã†ã€‚
ãã“ã®å·¥å¤«ã¾ã§ã—ãªã„ã¨ã“ã®å•é¡Œã¯ACã§ããªã„ã€‚
ã“ã“ã¯è§£èª¬ã‚’è¦‹ã¦ç¢ºèªã—ãŸã€‚
è§£æ±ºç­–ã¨ã—ã¦ã¯2é€šã‚Šã‚ã‚‹ã€‚
1.  $p = min(q-1,\dfrac{n}{q^3})$ ã§pã‚’è¨ˆç®—ã—ã¦ã€ç´ æ•°åˆ—ã‹ã‚‰æ¡ä»¶ã‚’æº€ãŸã™æœ€å¤§ã®å€¤ã‚’æ¢ã™
`p = n / (q * q * q)` ã¨æ›¸ã„ãŸå ´åˆã€ `q` ãŒintå‹ã ã¨ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã™ã‚‹ã®ã§æ³¨æ„ã€‚
`p = n / q / q / q` ã¨æ›¸ãã»ã†ãŒç„¡é›£ã€‚
2. $pÃ—q^3$ ãŒlong longå‹ã«åã¾ã‚‹ã‹ã‚’äºˆã‚doubleå‹ã§è¨ˆç®—ã—ã¦è¦‹ç©ã‚‚ã‚‹
